(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));r(38),r(27),r(37),r(59),r(28),r(60);var n=r(22),o=r(2),c=r(44),f=r(45),h=(r(56),r(13),r(58),r(25),r(55)),d=r.n(h);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v=function(){function e(t){var r=this;Object(c.a)(this,e);var n={baseURL:t};this.instance=d.a.create(n),this.instance.interceptors.request.use((function(e){return r.BeforeRequestSend(e)}),void 0)}var t,r,n,h,m,v,y;return Object(f.a)(e,[{key:"BeforeRequestSend",value:(y=Object(o.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))),function(e){return y.apply(this,arguments)})},{key:"GET",value:(v=Object(o.a)(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.SEND(t,"get",{params:r||{},headers:n||{}}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return v.apply(this,arguments)})},{key:"POST",value:(m=Object(o.a)(regeneratorRuntime.mark((function e(t,data,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.SEND(t,"post",{data:data||{},headers:r||{}}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return m.apply(this,arguments)})},{key:"PUT",value:(h=Object(o.a)(regeneratorRuntime.mark((function e(t,data,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.SEND(t,"put",{data:data||{},headers:r||{}}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return h.apply(this,arguments)})},{key:"PATCH",value:(n=Object(o.a)(regeneratorRuntime.mark((function e(t,data,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.SEND(t,"patch",{data:data||{},headers:r||{}}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"DELETE",value:(r=Object(o.a)(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.SEND(t,"delete",{params:r||{},headers:n||{}}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"SEND",value:(t=Object(o.a)(regeneratorRuntime.mark((function e(t,r,n,c){var f=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.instance.request(l({url:t,method:r},n)).then((function(e){return e.data})).catch(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.response){e.next=11;break}if(console.error("".concat(o.response.status,": ").concat(o.response.statusText,"\nDetails: ").concat(JSON.stringify(o.response.data),"\nRequest: ").concat(JSON.stringify(l({},n)))),!(429==o.response.status&&(c||1)<3)){e.next=8;break}return e.next=5,new Promise((function(e,o){setTimeout((function(){e(f.SEND(t,r,n,c?c+1:1))}),2e3)}));case 5:return e.abrupt("return",e.sent);case 8:throw o;case 9:e.next=14;break;case 11:if(!o.request){e.next=14;break}throw console.error(o.message),o;case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e,this)}))),function(e,r,n,o){return t.apply(this,arguments)})}]),e}()},144:function(e,t,r){"use strict";var n=r(1),o=r(204),c=r.n(o);r(295);n.default.use(c.a)},207:function(e,t,r){r(208),e.exports=r(209)},270:function(e,t,r){"use strict";r.r(t),r.d(t,"plugins",(function(){return o}));r(54);var n=new Array;var o=n},271:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return o})),r.d(t,"getters",(function(){return c})),r.d(t,"mutations",(function(){return f})),r.d(t,"actions",(function(){return h}));var n=r(2),o=(r(25),r(13),r(30),r(32),r(149),r(56),r(58),function(){return{apiToken:void 0}}),c={apiToken:function(e){return e.apiToken},spaceId:function(e){return e.spaceId}},f={setAuthorization:function(e,data){e=Object.assign(e,data)},setSpaceId:function(e,t){e.spaceId=t},setApiToken:function(e,t){var r;null!==(r=e.apiToken)&&void 0!==r||(e.apiToken=t)}},h={token:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var o,c,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.dispatch,c=e.commit,f=e.state,t=new URLSearchParams(t),c("setApiToken",t.get("token")),t.set("token",f.apiToken),f.refresh_token?(t.append("grant_type","refresh_token"),t.append("refresh_token",f.refresh_token)):(t.append("grant_type","authorization_code"),c("setSpaceId",t.get("space_id"))),r.next=7,fetch("".concat("https://develop.systemair.com/api/storyblok-oauth/translate-page/token","?").concat(new URLSearchParams(t))).then((function(e){return e.json()})).then((function(data){c("setAuthorization",data),setTimeout(Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("token",{});case 2:case"end":return e.stop()}}),e)}))),1e3*(data.expires_in-30))}));case 7:case"end":return r.stop()}}),r)})))()}}},297:function(e,t,r){"use strict";r.r(t),r.d(t,"deeplState",(function(){return v})),r.d(t,"getters",(function(){return y})),r.d(t,"mutations",(function(){return O})),r.d(t,"actions",(function(){return k}));var n=r(2),o=(r(25),r(13),r(191),r(44)),c=r(45),f=r(114),h=r(115),d=r(73);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}var l=function(e){Object(f.a)(d,e);var t,r,h=m(d);function d(e,t){var r;return Object(o.a)(this,d),(r=h.call(this,"".concat(e,"/api/translate/deepl"))).authToken=t,r}return Object(c.a)(d,[{key:"supportedLanguages",value:(r=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.GET("/languages",void 0,{"X-API-TOKEN":this.authToken}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"translate",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.GET("/translate",void 0,{"X-API-TOKEN":this.authToken}));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),d}(r(112).a),v=function(){return{supportedLanguages:[]}},y={supportedLanguages:function(e){return e.supportedLanguages}},O={setSupportedLanguages:function(e,t){e.supportedLanguages=t}},k={retrieveSupportedLanguages:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.state,o=e.commit,c=new l(sessionStorage.getItem("SA-SYSTEMAIR_".concat(t,"_API_BASE")),sessionStorage.getItem("SA-DEEPL_TOKEN")),void 0===n.supportedLanguages){r.next=4;break}return r.abrupt("return",n.supportedLanguages);case 4:return r.next=6,c.supportedLanguages();case 6:return f=r.sent,o("setSupportedLanguages",f),r.abrupt("return",f);case 9:case"end":return r.stop()}}),r)})))()}}},298:function(e,t,r){"use strict";r.r(t),r.d(t,"actions",(function(){return v}));var n=r(2),o=(r(25),r(191),r(44)),c=r(45),f=r(114),h=r(115),d=r(73);r(13),r(28),r(43),r(30);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}var l=function(e){Object(f.a)(l,e);var t,r,h,d=m(l);function l(e,t){var r;return Object(o.a)(this,l),(r=d.call(this,e)).apiToken=t||"",r}return Object(c.a)(l,[{key:"translateStory",value:(h=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n,o,c,f){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.SEND("/api/translate-story","POST",{params:{storyId:t,sourceLang:r,copyFrom:n,overwriteContent:o,extendContent:c,dryRun:f},headers:{"X-API-TOKEN":this.apiToken}}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o,c){return h.apply(this,arguments)})},{key:"importTranslationFiles",value:(r=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FormData,Array.from(r).forEach((function(e,t){n.append("file-".concat(t+1),e)})),e.abrupt("return",this.SEND("/api/import-translation-file","POST",{params:{storyId:t},headers:{"content-type":"multipart/form-data","X-API-TOKEN":this.apiToken},data:n}));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"fetchStoryById",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.SEND("/api/storyblok/story-by-id","GET",{withCredentials:!0,params:{id:t}}));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),l}(r(112).a),v={importTranslationFiles:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c,f,h,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.state,n=t.storyId,o=t.spaceId,c=t.translationFiles,f=sessionStorage.getItem("SA-SYSTEMAIR_".concat(o,"_API_BASE")),h=sessionStorage.getItem("SA-IMPORT_TRANSLATION_FILE_TOKEN"),d=new l(f,h),r.abrupt("return",d.importTranslationFiles(n,c));case 6:case"end":return r.stop()}}),r)})))()},fetchStoryById:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.state,n=t.storyId,o=t.spaceId,c=sessionStorage.getItem("SA-SYSTEMAIR_".concat(o,"_API_BASE")),f=new l(c),r.abrupt("return",f.fetchStoryById(n));case 5:case"end":return r.stop()}}),r)})))()},translateStory:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c,f,h,d,m,v,y,O;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.state,n=t.storyId,o=t.sourceLanguage,c=t.spaceId,f=t.extendContent,h=t.overwriteContent,d=t.copyFrom,m=t.dryRun,v=sessionStorage.getItem("SA-SYSTEMAIR_".concat(c,"_API_BASE")),y=sessionStorage.getItem("SA-TRANSLATE_STORY_TOKEN"),O=new l(v,y),r.abrupt("return",O.translateStory(n,o,d,h,f,m));case 6:case"end":return r.stop()}}),r)})))()}}}},[[207,5,1,6]]]);