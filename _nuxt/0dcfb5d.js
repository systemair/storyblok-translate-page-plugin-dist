(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));r(36),r(30),r(35),r(57),r(26),r(58);var n=r(23),o=r(2),c=r(43),f=r(44),h=(r(53),r(13),r(56),r(25),r(52)),l=r.n(h);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=function(){function e(t){var r=this;Object(c.a)(this,e);var n={baseURL:t};this.instance=l.a.create(n),this.instance.interceptors.request.use((function(e){return r.BeforeRequestSend(e)}),void 0)}var t,r,n,h,d,v,O;return Object(f.a)(e,[{key:"BeforeRequestSend",value:(O=Object(o.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))),function(e){return O.apply(this,arguments)})},{key:"GET",value:(v=Object(o.a)(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.SEND(t,"get",{params:r||{},headers:n||{}}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return v.apply(this,arguments)})},{key:"POST",value:(d=Object(o.a)(regeneratorRuntime.mark((function e(t,data,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.SEND(t,"post",{data:data||{},headers:r||{}}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return d.apply(this,arguments)})},{key:"PUT",value:(h=Object(o.a)(regeneratorRuntime.mark((function e(t,data,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.SEND(t,"put",{data:data||{},headers:r||{}}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return h.apply(this,arguments)})},{key:"PATCH",value:(n=Object(o.a)(regeneratorRuntime.mark((function e(t,data,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.SEND(t,"patch",{data:data||{},headers:r||{}}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"DELETE",value:(r=Object(o.a)(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.SEND(t,"delete",{params:r||{},headers:n||{}}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"SEND",value:(t=Object(o.a)(regeneratorRuntime.mark((function e(t,r,n,c){var f=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.instance.request(m({url:t,method:r},n)).then((function(e){return e.data})).catch(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.response){e.next=11;break}if(console.error("".concat(o.response.status,": ").concat(o.response.statusText,"\nDetails: ").concat(JSON.stringify(o.response.data),"\nRequest: ").concat(JSON.stringify(m({},n)))),!(429==o.response.status&&(c||1)<3)){e.next=8;break}return e.next=5,new Promise((function(e,o){setTimeout((function(){e(f.SEND(t,r,n,c?c+1:1))}),2e3)}));case 5:return e.abrupt("return",e.sent);case 8:throw o;case 9:e.next=14;break;case 11:if(!o.request){e.next=14;break}throw console.error(o.message),o;case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e,this)}))),function(e,r,n,o){return t.apply(this,arguments)})}]),e}()},141:function(e,t,r){"use strict";var n=r(1),o=r(205),c=r.n(o);r(296);n.default.use(c.a)},208:function(e,t,r){r(209),e.exports=r(210)},271:function(e,t,r){"use strict";r.r(t),r.d(t,"plugins",(function(){return o}));r(51);var n=new Array;var o=n},272:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return o})),r.d(t,"getters",(function(){return c})),r.d(t,"mutations",(function(){return f})),r.d(t,"actions",(function(){return h}));var n=r(2),o=(r(25),r(13),r(31),r(37),r(145),r(53),r(56),function(){return{apiToken:void 0}}),c={apiToken:function(e){return e.apiToken},spaceId:function(e){return e.spaceId}},f={setAuthorization:function(e,data){e=Object.assign(e,data)},setSpaceId:function(e,t){e.spaceId=t},setApiToken:function(e,t){var r;null!==(r=e.apiToken)&&void 0!==r||(e.apiToken=t)}},h={token:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var o,c,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.dispatch,c=e.commit,f=e.state,t=new URLSearchParams(t),c("setApiToken",t.get("token")),t.set("token",f.apiToken),f.refresh_token?(t.append("grant_type","refresh_token"),t.append("refresh_token",f.refresh_token)):(t.append("grant_type","authorization_code"),c("setSpaceId",t.get("space_id"))),r.next=7,fetch("".concat("https://develop.systemair.com/api/storyblok-oauth/translate-page/token","?").concat(new URLSearchParams(t))).then((function(e){return e.json()})).then((function(data){c("setAuthorization",data),setTimeout(Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("token",{});case 2:case"end":return e.stop()}}),e)}))),1e3*(data.expires_in-30))}));case 7:case"end":return r.stop()}}),r)})))()}}},298:function(e,t,r){"use strict";r.r(t),r.d(t,"deeplState",(function(){return v})),r.d(t,"getters",(function(){return O})),r.d(t,"mutations",(function(){return y})),r.d(t,"actions",(function(){return k}));var n=r(2),o=(r(25),r(13),r(192),r(43)),c=r(44),f=r(112),h=r(113),l=r(72);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}var m=function(e){Object(f.a)(l,e);var t,r,h=d(l);function l(e,t){var r;return Object(o.a)(this,l),(r=h.call(this,"".concat(e,"/api/translate/deepl"))).authToken=t,r}return Object(c.a)(l,[{key:"supportedLanguages",value:(r=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.GET("/languages",void 0,{"X-API-TOKEN":this.authToken}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"translate",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.GET("/translate",void 0,{"X-API-TOKEN":this.authToken}));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),l}(r(109).a),v=function(){return{supportedLanguages:[]}},O={supportedLanguages:function(e){return e.supportedLanguages}},y={setSupportedLanguages:function(e,t){e.supportedLanguages=t}},k={retrieveSupportedLanguages:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.state,o=e.commit,c=new m(sessionStorage.getItem("SA-SYSTEMAIR_".concat(t,"_API_BASE")),sessionStorage.getItem("SA-DEEPL_TOKEN")),void 0===n.supportedLanguages){r.next=4;break}return r.abrupt("return",n.supportedLanguages);case 4:return r.next=6,c.supportedLanguages();case 6:return f=r.sent,o("setSupportedLanguages",f),r.abrupt("return",f);case 9:case"end":return r.stop()}}),r)})))()}}},299:function(e,t,r){"use strict";r.r(t),r.d(t,"actions",(function(){return O}));var n=r(140),o=r(2),c=(r(25),r(192),r(43)),f=r(44),h=r(112),l=r(113),d=r(72);r(13),r(26),r(49),r(31);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var v=function(e){Object(h.a)(l,e);var t,r,n=m(l);function l(e,t){var r;return Object(c.a)(this,l),(r=n.call(this,e)).apiToken=t||"",r}return Object(f.a)(l,[{key:"translateStory",value:(r=Object(o.a)(regeneratorRuntime.mark((function e(t,r,n,o,c,f,h,l){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.SEND("/api/translate-story","POST",{params:{brand:t,storyId:r,storyLocale:o,sourceLang:n,translateAll:c,copyFrom:f,overwriteContent:h,extendContent:l},headers:{"X-API-TOKEN":this.apiToken}}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,n,o,c,f,h,l){return r.apply(this,arguments)})},{key:"importTranslationFiles",value:(t=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]&&c[2],o=new FormData,Array.from(r).forEach((function(e,t){o.append("file-".concat(t+1),e)})),e.abrupt("return",this.SEND("/api/import-translation-file","POST",{params:{storyId:t,forcePublish:n},headers:{"content-type":"multipart/form-data","X-API-TOKEN":this.apiToken},data:o}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),l}(r(109).a),O={importTranslationFiles:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var o,c,f,h,l,d,m,O;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return Object(n.a)(e),o=t.storyId,c=t.spaceId,f=t.translationFiles,h=t.forcePublish,l=void 0!==h&&h,d=sessionStorage.getItem("SA-SYSTEMAIR_".concat(c,"_API_BASE")),m=sessionStorage.getItem("SA-IMPORT_TRANSLATION_FILE_TOKEN"),O=new v(d,m),r.abrupt("return",O.importTranslationFiles(o,f,l));case 6:case"end":return r.stop()}}),r)})))()},translateStory:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var o,c,f,h,l,d,m,O,y,k,w,R;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return Object(n.a)(e),o=t.brand,c=t.storyId,f=t.sourceLanguage,h=t.storyLocale,l=t.spaceId,d=t.translateAll,m=t.extendContent,O=t.overwriteContent,y=t.copyFrom,k=sessionStorage.getItem("SA-SYSTEMAIR_".concat(l,"_API_BASE")),w=sessionStorage.getItem("SA-TRANSLATE_STORY_TOKEN"),R=new v(k,w),r.abrupt("return",R.translateStory(o,c,f,h,d,y,O,m));case 6:case"end":return r.stop()}}),r)})))()}}}},[[208,5,1,6]]]);