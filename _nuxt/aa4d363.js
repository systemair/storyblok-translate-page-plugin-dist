(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e,t,r){"use strict";var n=r(2),o=r(194),c=r.n(o);r(268);n.default.use(c.a)},196:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));r(248);var n=r(3),o=r(66),c=r(67),f=r(197),m=r(198),d=r(139),h=(r(25),r(11),r(26),r(27),r(109),r(39),r(28),r(38),r(58),r(33),r(59),r(20)),l=(r(57),r(64),r(34)),v=r.n(l);function w(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function R(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(t){Object(h.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var k=function(){function e(t,r){var n=this;Object(o.a)(this,e);var c={baseURL:t};this.instance=v.a.create(c),this.instance.interceptors.request.use((function(e){return n.BeforeRequestSend(e)}),void 0)}var t,r,f,m,d,h,l;return Object(c.a)(e,[{key:"BeforeRequestSend",value:(l=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"GET",value:(h=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.SEND(t,"get",{params:r||{},headers:n||{}}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return h.apply(this,arguments)})},{key:"POST",value:(d=Object(n.a)(regeneratorRuntime.mark((function e(t,data,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.SEND(t,"post",{data:data||{},headers:r||{}}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return d.apply(this,arguments)})},{key:"PUT",value:(m=Object(n.a)(regeneratorRuntime.mark((function e(t,data,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.SEND(t,"put",{data:data||{},headers:r||{}}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return m.apply(this,arguments)})},{key:"PATCH",value:(f=Object(n.a)(regeneratorRuntime.mark((function e(t,data,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.SEND(t,"patch",{data:data||{},headers:r||{}}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return f.apply(this,arguments)})},{key:"DELETE",value:(r=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.SEND(t,"delete",{params:r||{},headers:n||{}}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"SEND",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(t,r,o,c){var f=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.instance.request(R({url:t,method:r},o)).then((function(e){return e.data})).catch(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.response){e.next=11;break}if(console.error("".concat(n.response.status,": ").concat(n.response.statusText,"\nDetails: ").concat(JSON.stringify(n.response.data),"\nRequest: ").concat(JSON.stringify(R({},o)))),!(429==n.response.status&&(c||1)<3)){e.next=8;break}return e.next=5,new Promise((function(e,n){setTimeout((function(){e(f.SEND(t,r,o,c?c+1:1))}),2e3)}));case 5:return e.abrupt("return",e.sent);case 8:throw n;case 9:e.next=14;break;case 11:if(!n.request){e.next=14;break}throw console.error(n.message),n;case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e,this)}))),function(e,r,n,o){return t.apply(this,arguments)})}]),e}();function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(m.a)(this,r)}}var O=function(e){Object(f.a)(d,e);var t,r,m=y(d);function d(e,t){return Object(o.a)(this,d),m.call(this,e,"DeepL-Auth-Key ".concat(t))}return Object(c.a)(d,[{key:"supportedLanguages",value:(r=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.GET("languages",new URLSearchParams({token:"".concat("***REMOVED***")})));case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"translate",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.append("token","".concat("***REMOVED***")),e.abrupt("return",this.GET("translate",t));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),d}(k)},203:function(e,t,r){r(204),e.exports=r(205)},245:function(e,t,r){"use strict";r.r(t),r.d(t,"plugins",(function(){return o}));r(53);var n=new Array;var o=n},246:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return o})),r.d(t,"getters",(function(){return c})),r.d(t,"mutations",(function(){return f})),r.d(t,"actions",(function(){return m}));var n=r(3),o=(r(25),r(11),r(26),r(27),r(109),r(57),r(64),function(){return{}}),c={},f={setAuthorization:function(e,data){e=Object.assign(e,data)},setSpaceId:function(e,t){e.spaceId=t}},m={token:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var o,c,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.dispatch,c=e.commit,f=e.state,t=new URLSearchParams(t),f.refresh_token?(t.append("grant_type","refresh_token"),t.append("refresh_token",f.refresh_token)):(t.append("grant_type","authorization_code"),c("setSpaceId",t.get("space_id"))),r.next=5,fetch("".concat("https://fa-systemair-dms-web-storyblok-translate-page-plugin.azurewebsites.net/api/token","?").concat(new URLSearchParams(t))).then((function(e){return e.json()})).then((function(data){return c("setAuthorization",data),setTimeout(Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("token",{});case 2:case"end":return e.stop()}}),e)}))),1e3*(data.expires_in-30)),o("storyblok/resetClient",{accessToken:data.access_token,spaceId:f.spaceId},{root:!0})}));case 5:case"end":return r.stop()}}),r)})))()}}},247:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"state",(function(){return c})),r.d(t,"getters",(function(){return f})),r.d(t,"mutations",(function(){return m})),r.d(t,"actions",(function(){return d}));var n=r(3),o=(r(25),r(196)),c=function(){return{deepl:new o.a("https://develop.systemair.com/api/translate/deepl",e.env.DEEPL_API_KEY),supportedLanguages:void 0}},f={supportedLanguages:function(e){return e.supportedLanguages}},m={setSupportedLanguages:function(e,t){e.supportedLanguages=t}},d={retrieveSupportedLanguages:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.state,n=e.commit,void 0===r.supportedLanguages){t.next=3;break}return t.abrupt("return",r.supportedLanguages);case 3:return t.next=5,r.deepl.supportedLanguages();case 5:return o=t.sent,n("setSupportedLanguages",o),t.abrupt("return",o);case 8:case"end":return t.stop()}}),t)})))()},translate:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.state,r.abrupt("return",n.deepl.translate(t));case 2:case"end":return r.stop()}}),r)})))()}}}.call(this,r(134))},267:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return c})),r.d(t,"getters",(function(){return f})),r.d(t,"mutations",(function(){return m})),r.d(t,"actions",(function(){return d}));var n=r(3),o=(r(50),r(32),r(25),r(193)),c=function(){return{client:void 0,components:void 0,componentGroups:void 0,datasources:void 0}},f={components:function(e){return e.components},componentGroups:function(e){return e.componentGroups}},m={setClient:function(e,t){e.client=t},setComponents:function(e,t){e.components=t},setComponentGroups:function(e,t){e.componentGroups=t}},d={resetClient:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n,c,f,m;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.dispatch,c=e.commit,e.state,f=t.accessToken,m=t.spaceId,c("setClient",new o.a({oauthToken:"Bearer ".concat(f)},"https://mapi.storyblok.com/v1/spaces/".concat(m))),r.next=5,n("components");case 5:return r.next=7,n("componentGroups");case 7:case"end":return r.stop()}}),r)})))()},components:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.commit,!(n=e.state).components){t.next=3;break}return t.abrupt("return",n.components);case 3:return t.abrupt("return",n.client.get("components").then((function(e){var t=e.data,n=t.components,o=t.component_groups;return r("setComponents",n.map((function(e){return Object.assign(e,{display_name:e.display_name||e.name})}))),r("setComponentGroups",o),n})));case 4:case"end":return t.stop()}}),t)})))()},componentGroups:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.commit,!(n=e.state).componentGroups){t.next=3;break}return t.abrupt("return",n.componentGroups);case 3:return t.abrupt("return",n.client.get("components").then((function(e){var t=e.data,n=t.components,o=t.component_groups;return r("setComponents",n),r("setComponentGroups",o),o})));case 4:case"end":return t.stop()}}),t)})))()},searchStories:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.commit,n=e.state,r.abrupt("return",n.client.getAll("stories",t));case 2:case"end":return r.stop()}}),r)})))()},readStory:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.commit,n=e.state,r.abrupt("return",n.client.get("stories/".concat(t)).then((function(e){return e.data.story})));case 2:case"end":return r.stop()}}),r)})))()},createStory:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.commit,n=e.state,r.abrupt("return",n.client.post("stories?publish=1",{story:t}).then((function(e){return e.data.story})));case 2:case"end":return r.stop()}}),r)})))()},updateStory:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.commit,n=e.state,r.abrupt("return",n.client.put("stories/".concat(t.id),{story:t}).then((function(e){return e.data.story})));case 2:case"end":return r.stop()}}),r)})))()},deleteStory:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.commit,n=e.state,r.abrupt("return",n.client.delete("stories/".concat(t)));case 2:case"end":return r.stop()}}),r)})))()},unpublishStory:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.commit,n=e.state,r.abrupt("return",n.client.get("stories/".concat(t,"/unpublish")));case 2:case"end":return r.stop()}}),r)})))()},readDatasources:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.commit,r=e.state,t.abrupt("return",r.client.getAll("datasources"));case 2:case"end":return t.stop()}}),t)})))()},readDatasourcEntries:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.commit,n=e.state,r.abrupt("return",n.client.getAll("datasource_entries",{datasource_id:"".concat(t)}));case 2:case"end":return r.stop()}}),r)})))()}}}},[[203,6,1,7]]]);